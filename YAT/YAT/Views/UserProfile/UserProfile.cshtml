@model DataLayer.User
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "User Profile";
}

@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.EntityFramework;
@using YAT.Models;
@using DataLayer;

<h2>User Profile</h2>
<!DOCTYPE html>
<html>
<head>
    <title>User Profile</title>

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

</head>
<body>
    <form method="post">
        <div class="text-center">
            <fieldset>
                @{
                    if (Request.IsAuthenticated)
                    {
                        var currentUser = (Model as DataLayer.User);
                        <legend>  This Page Contains The Details Of The User </legend>
                        <div>
                            @if(@currentUser.Gender.Equals(true))
                            {
                            <img src="~/Pics/male.jpg"> <br /> <br />
                            }
                            else
                            {
                            <img src="~/Pics/female.jpg"> <br /> <br />
                            }
                        </div>
                         <div>
                        <label for="FirstName">First Name:</label>
                         @currentUser.FirstName <br /> <br />
                        </div>
                         <div>
                         <label for="LastName">Last Name:</label>
                          @currentUser.LastName <br /> <br />
                            </div>
                            <div>
                             <label for="Age">Age:</label>
                             @currentUser.Age <br /> <br />
                        </div>
                        <div>
                         <label for="Gender">Gender:</label>
                         @(currentUser.Gender ? "Male" : "Female") <br /> <br />
                        </div>
                         <div>
                        <label for="InterestedIn">Interested In:</label>
                        @(currentUser.InterestedIn ? "Male" : "Female") <br /> <br />
                         </div>
                         <div>
                        <label for="RegistrationDate">Registration Date:</label>
                          @currentUser.RegistrationDate.ToShortDateString() <br /> <br />
                        </div>
                        <div>
                            <label for="Address">Address:</label>
                            @currentUser.Address <br /> <br />
                        </div>
                        if (User.Identity.GetUserId() != @currentUser.Id)
                        { 
                        <div>
                            <label>&nbsp;</label>
                            <br /> <br />
                        </div> 
                        <div>
                        <label>&nbsp;</label>
                        <input type="submit" value="Block" class="submit" /> <br /> <br />
                        </div>
                        <div>
                        <label>&nbsp;</label>
                        <input type="submit" value="Hide" class="submit" /> <br /> <br />
                        </div>
                         }
                        <div>
                        <h2> Like Section </h2> <br /> <br />
                        </div>

                         <div>
                             This is what the address looks like on Google Maps: <br/> <br/>

                             <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCfd2VO8YTOEmmqdBr4FCl4GRbnarDbnK8&q=@currentUser.Address" width=" 600" height="450" frameborder="0" style="border:0"></iframe> <br /> <br/>

                         </div>
                    
                    }
}
            </fieldset>

        </div>
    </form>
    @using (Html.BeginForm("SendMessage", "UserProfile", FormMethod.Post))
    {
        <input type="text" id="text" name="text" />
        <input type="hidden" id="hidden" name="hidden" value=@Model.Id>
        <input type="submit" value="Message" class="btn btn-default" />
    }
</body>
</html>

